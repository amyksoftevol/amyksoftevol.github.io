<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<iframe src="https://iframeuploader.herokuapp.com/" frameborder="0" height="1000px" id="iframeUploader"></iframe>
	<script>
		var checkingInterval = setInterval(checkIframeLoaded, 100);

		function checkIframeLoaded() {
			var iframeElement = document.getElementById('iframeUploader');
			var iframeDocument = iframeElement.contentDocument || iframeElement.contentWindow.document;
			if (iframeDocument.readyState  === 'complete') {
				console.log('iframe loaded!');
				sendMessageToIframe(iframeElement);
				clearInterval(checkingInterval);
			}
		}

		function sendMessageToIframe(iframeEl) {
			iframeEl.contentWindow.postMessage('Hello from parent!', '*');
		}

	</script>
</body>
</html>